---

layout: post
title:  20180702 code_3
description: This is code for studying of javascript
categories: code
date: 2018-07-02
author: PaulLee

---

##2018년 7월 2일 코드_(공 움직이기)


### 실행 영상


[![유튜브 영상 링크]](https://youtu.be/mBDDCJN5CUs)


```javascript
//css 설정
#ball {
	position: absolute;
	left: 100px;
	top: 100px;
}

#goalpost {
	position: absolute;
	left: 800px;
}
```


```javascript
	//Ball 이라는 객체를 생성하기 위하여 function Ball 작성

	function Ball(img) {
	this.img = document.getElementById('ball');
	this.left = 100; //공의 현재 좌표
	this.deg = 0; //공의 현재 회전 각도
	this.start = 100; //공의 최대 왼쪽 위치(시작점)
	this.end = 900; //공의 최대 오른쪽 위치(끝점)
	this.step = -1;
	
	this.move = function() {
		var me = this; //객체 내의 변수를 사용하기 위함
		this.interval = setInterval(function() {
		if(me.left<me.start || me.left>me.end) //공이 시작점보다 뒤로 가거나 최대점보다 넘어갈 경우
			me.step *= -1;						//-1을 곱하여 방향을 반대로 해줌 
		me.left += me.step; //진행방향에 따른 증감
		me.deg += me.step;
		img.style.left = me.left +'px'; //스타일 값을 변경
		img.style.transform = 'rotate(' + me.deg + 'deg)'; //공의 굴러가는 애니메이션을 위함

		var goalpost = document.getElementById('goalpost');
		var myX = me.left;
		var myWidth = parseInt(me.img.width);
		
		if((myX + myWidth) == 900) { 
			alert("고오오오오오오오오올");
			me.stop();
		}
		
		}, 1);
		this.isRunning = true; //이벤트 실행 시 작동을 위한 변수
//		setTimeout(function() {
//		clearInterval(interval);
//	}, 5000)
	};
	
	this.stop = function() {
		clearInterval(this.interval);  //stop 호출 시 공이 멈춤
		this.isRunning = false;
	}	
}
```

```javascript
window.onload = function() {
//객체를 생성하고 Ball 내 함수 호출
	window.onload = function() {
		var img = document.getElementById('ball');
		var ball = new Ball(img); //Ball 객체 생성

		var body = document.getElementById('body');
        //스페이스바 누를 시 실헹 이벤트
		body.onkeydown = function() {
			if (event.keyCode == 32) {
				if (ball.isRunning) {
					ball.stop();
				}
				else
					ball.move();
			}
		}
	}
```
